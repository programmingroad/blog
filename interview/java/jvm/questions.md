### 说一下 jvm 的主要组成部分？及其作用？
类加载器（ClassLoader）: 加载类文件到内存。Class loader只管加载，只要符合文件结构就加载，至于能否运行，它不负责，那是有Exectution Engine 负责的。  

运行时数据区（Runtime Data Area）

执行引擎（Execution Engine）: 也叫解释器，负责解释命令，交由操作系统执行。

本地库接口（Native Interface）: 本地接口的作用是融合不同的语言为java所用

### 说一下 jvm 运行时数据区？
- 程序计数器（Program Counter Register）：当前线程所执行的字节码的行号指示器，字节码解析器的工作是通过改变这个计数器的值，来选取下一条需要执行的字节码指令，分支、循环、跳转、异常处理、线程恢复等基础功能，都需要依赖这个计数器来完成；
- Java 虚拟机栈（Java Virtual Machine Stacks）：用于存储局部变量表、操作数栈、动态链接、方法出口等信息；
- 本地方法栈（Native Method Stack）：与虚拟机栈的作用是一样的，只不过虚拟机栈是服务Java方法的，而本地方法栈是为虚拟机调用Native方法服务的；
- Java 堆（Java Heap）：Java虚拟机中内存最大的一块，是被所有线程共享的，几乎所有的对象实例都在这里分配内存；
- 方法区（Methed Area）：用于存储已被虚拟机加载的类信息、常量、静态变量、即时编译后的代码等数据。
### 说一下堆栈的区别？

### 队列和栈是什么？有什么区别？
队列（Queue）：是限定只能在表的一端进行插入和另一端删除操作的线性表

栈（Stack）：是限定之能在表的一端进行插入和删除操作的线性表

#### 队列和栈的规则

队列：先进先出

栈：先进后出

#### 队列和栈的遍历数据速度

队列：基于地址指针进行遍历，而且可以从头部或者尾部进行遍历，但不能同时遍历，无需开辟空间，因为在遍历的过程中不影响数据结构，所以遍历速度要快

栈：只能从顶部取数据，也就是说最先进入栈底的，需要遍历整个栈才能取出来，遍历数据时需要微数据开辟临时空间，保持数据在遍历前的一致性

### 什么是双亲委派模型？
双亲委派的意思是如果一个类加载器需要加载类，那么首先它会把这个类请求委派给父类加载器去完成，每一层都是如此。一直递归到顶层，当父加载器无法完成这个请求时，子类才会尝试去加载。这里的双亲其实就指的是父类，没有mother。父类也不是我们平日所说的那种继承关系，只是调用逻辑是这样。

双亲委派模型不是一种强制性约束，也就是你不这么做也不会报错怎样的，它是一种JAVA设计者推荐使用类加载器的方式。

### 说一下类加载的执行过程？

### 怎么判断对象是否可以被回收？
- 引用计数法：为每个对象创建一个引用计数，当有对象引用时，计数器+1，当引用释放时，计数器-1，所以，当计数器为0时，就认为可以被回收
- 可达性分析：从GC Roots开始向下搜索，搜索所走过的路径称为引用链。当一个对象到GC Roots没有任何引用链时，则认为此对象可以被回收。

### java 中都有哪些引用类型？
- 强引用：只要强引用存在，垃圾回收器将永远不会回收被引用的对象，哪怕内存不足时，JVM也会直接抛出OutOfMemoryError，不会去回收
- 软引用：在内存足够的时候，软引用对象不会被回收，只有在内存不足时，系统则会回收软引用对象，如果回收了软引用对象之后仍然没有足够的内存，才会抛出内存溢出异常。
- 弱引用：无论内存是否足够，只要 JVM 开始进行垃圾回收，那些被弱引用关联的对象都会被回收
- 虚引用：虚引用是最弱的一种引用关系，它随时可能会被回收

### 说一下 jvm 有哪些垃圾回收算法？
- 标记清除算法：
- 复制算法：
- 标记整理算法：

### 说一下 jvm 有哪些垃圾回收器？
- 新生代：
    - Serial
    - ParNew
    - Parallel Scavenge
- 老生代：
    - Serial Old
    - Parallel Old
    - CMS
- 整堆回收器
    - G1收集器

新生代垃圾回收的较多，回收器一般采用的是复制算法，复制算法的优点是效率高，缺点是内存利用率低；老年代垃圾回收的较少，回收器一般采用的是标记-整理的算法进行垃圾回收。
### 详细介绍一下 CMS 垃圾回收器？

### 简述分代垃圾回收器是怎么工作的？

### 说一下 jvm 调优的工具？
Jconsole : jdk自带，功能简单，但是可以在系统有一定负荷的情况下使用。对垃圾回收算法有很详细的跟踪。

JProfiler：商业软件，需要付费。功能强大。

VisualVM：JDK自带，功能强大，与JProfiler类似。推荐

### 常用的 jvm 调优的参数都有哪些？
- -Xms2g：初始化推大小为 2g；
- -Xmx2g：堆最大内存为 2g；
- -XX:NewRatio=4：设置年轻的和老年代的内存比例为 1:4；
- -XX:SurvivorRatio=8：设置新生代 Eden 和 Survivor 比例为 8:2；
- -XX:+UseParNewGC：指定使用 ParNew + Serial Old 垃圾回收器组合；
- -XX:+UseParallelOldGC：指定使用 ParNew + ParNew Old 垃圾回收器组合；
- -XX:+UseConcMarkSweepGC：指定使用 CMS + Serial Old 垃圾回收器组合；
- -XX:+PrintGC：开启打印 gc 信息；
- -XX:+PrintGCDetails：打印 gc 详细信息。